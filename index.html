<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <title>Chat Manager</title>
</head>
<body>
    <!-- Login/Register Container -->
    <div class="container" id="container">
        <div class="form-container sign-up">
            <form id="registerForm">
                <h1>Create Account</h1>
                <div class="social-icons">
                    <a href="#" class="icon"><i class="fa-brands fa-google-plus-g"></i></a>
                    <a href="#" class="icon"><i class="fa-brands fa-facebook-f"></i></a>
                    <a href="#" class="icon"><i class="fa-brands fa-github"></i></a>
                    <a href="#" class="icon"><i class="fa-brands fa-linkedin-in"></i></a>
                </div>
                <span>or use your username and password</span>
                <input type="text" id="regUsername" placeholder="Username (starts with @)" pattern="^@[a-zA-Z0-9_]+" required>
                <input type="password" id="regPassword" placeholder="Password" required>
                <input type="text" id="regDisplayName" placeholder="Display Name" required>
                <button type="submit">Sign Up</button>
            </form>
        </div>
        <div class="form-container sign-in">
            <form id="loginForm">
                <h1>Sign In</h1>
                <div class="social-icons">
                    <a href="#" class="icon"><i class="fa-brands fa-google-plus-g"></i></a>
                    <a href="#" class="icon"><i class="fa-brands fa-facebook-f"></i></a>
                    <a href="#" class="icon"><i class="fa-brands fa-github"></i></a>
                    <a href="#" class="icon"><i class="fa-brands fa-linkedin-in"></i></a>
                </div>
                <span>or use your username and password</span>
                <input type="text" id="loginUsername" placeholder="Username" required>
                <input type="password" id="loginPassword" placeholder="Password" required>
                <a href="#" id="forgotPassword">Forgot Your Password?</a>
                <button type="submit">Sign In</button>
            </form>
        </div>
        <div class="toggle-container">
            <div class="toggle">
                <div class="toggle-panel toggle-left">
                    <h1>Welcome Back!</h1>
                    <p>Enter your personal details to use all of site features</p>
                    <button class="hidden" id="login">Sign In</button>
                </div>
                <div class="toggle-panel toggle-right">
                    <h1>Hello, Friend!</h1>
                    <p>Register with your personal details to use all of site features</p>
                    <button class="hidden" id="register">Sign Up</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Main App (hidden until login) -->
    <div id="app" class="hidden">
        <div class="sidebar">
            <div class="user-profile">
                <img id="userAvatar" src="https://via.placeholder.com/50" alt="Avatar" class="avatar">
                <div class="user-info">
                    <span id="currentUsername">@username</span>
                    <span id="currentStatus">Online</span>
                </div>
                <button id="logoutBtn"><i class="fas fa-sign-out-alt"></i></button>
            </div>
            
            <div class="search-container">
                <input type="text" id="searchUsers" placeholder="Search users...">
                <button id="addFriendBtn"><i class="fas fa-user-plus"></i></button>
            </div>
            
            <div class="tabs">
                <button class="tab-btn active" data-tab="friends">Friends</button>
                <button class="tab-btn" data-tab="groups">Groups</button>
                <button class="tab-btn" data-tab="chats">Chats</button>
            </div>
            
            <div class="tab-content" id="friendsTab">
                <div class="friends-list" id="friendsList"></div>
            </div>
            
            <div class="tab-content hidden" id="groupsTab">
                <button id="createGroupBtn">Create Group</button>
                <div class="groups-list" id="groupsList"></div>
            </div>
            
            <div class="tab-content hidden" id="chatsTab">
                <div class="chats-list" id="chatsList"></div>
            </div>
        </div>
        
        <div class="main-content">
            <div class="chat-header">
                <div id="chatInfo">
                    <img id="chatAvatar" src="https://via.placeholder.com/40" alt="Avatar" class="avatar">
                    <div>
                        <h3 id="chatTitle">Select a chat</h3>
                        <span id="chatStatus"></span>
                    </div>
                </div>
                <div class="chat-actions">
                    <button id="profileBtn"><i class="fas fa-user"></i> Profile</button>
                    <button id="moreActionsBtn"><i class="fas fa-ellipsis-v"></i></button>
                </div>
            </div>
            
            <div class="messages-container" id="messagesContainer">
                <div class="no-chat-selected">
                    <i class="far fa-comment-dots"></i>
                    <p>Select a chat to start messaging</p>
                </div>
            </div>
            
            <div class="message-input hidden" id="messageInputContainer">
                <textarea id="messageInput" placeholder="Type a message..."></textarea>
                <button id="sendMessageBtn"><i class="fas fa-paper-plane"></i></button>
                <button id="encryptToggleBtn" title="Toggle Encryption"><i class="fas fa-lock"></i></button>
            </div>
        </div>
        
        <!-- Profile Modal -->
        <div id="profileModal" class="modal hidden">
            <div class="modal-content">
                <span class="close-modal">&times;</span>
                <h2>Profile Settings</h2>
                <div class="profile-form">
                    <div class="avatar-upload">
                        <img id="profileAvatar" src="https://via.placeholder.com/100" alt="Avatar">
                        <input type="file" id="avatarUpload" accept="image/*">
                        <label for="avatarUpload">Change Avatar</label>
                    </div>
                    <div class="form-group">
                        <label for="profileDisplayName">Display Name</label>
                        <input type="text" id="profileDisplayName">
                    </div>
                    <div class="form-group">
                        <label for="profileBio">Bio</label>
                        <textarea id="profileBio" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="currentPassword">Current Password</label>
                        <input type="password" id="currentPassword">
                    </div>
                    <div class="form-group">
                        <label for="newPassword">New Password</label>
                        <input type="password" id="newPassword">
                    </div>
                    <button id="saveProfileBtn">Save Changes</button>
                </div>
            </div>
        </div>
        
        <!-- Add Friend Modal -->
        <div id="addFriendModal" class="modal hidden">
            <div class="modal-content">
                <span class="close-modal">&times;</span>
                <h2>Add Friend</h2>
                <input type="text" id="friendUsername" placeholder="Enter username (e.g., @username)">
                <button id="sendFriendRequestBtn">Send Request</button>
            </div>
        </div>
        
        <!-- Create Group Modal -->
        <div id="createGroupModal" class="modal hidden">
            <div class="modal-content">
                <span class="close-modal">&times;</span>
                <h2>Create Group</h2>
                <input type="text" id="groupName" placeholder="Group Name">
                <div class="friends-selector">
                    <h3>Select Friends to Add</h3>
                    <div id="groupFriendsList"></div>
                </div>
                <button id="createGroupConfirmBtn">Create Group</button>
            </div>
        </div>
        
        <!-- Group Settings Modal -->
        <div id="groupSettingsModal" class="modal hidden">
            <div class="modal-content">
                <span class="close-modal">&times;</span>
                <h2>Group Settings</h2>
                <div class="group-members">
                    <h3>Members</h3>
                    <div id="groupMembersList"></div>
                </div>
                <div class="group-actions">
                    <button id="leaveGroupBtn">Leave Group</button>
                    <button id="deleteGroupBtn" class="admin-only hidden">Delete Group</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
